{% extends "custom_admin/base.html" %}
{% block content %}
<h2>Edit Category Offer</h2>
<form method="POST">
    {% csrf_token %}
    <div class="mb-3">
        <label>Category</label>
        <select name="category" class="form-control" required>
            {% for category in categories %}
                <option value="{{ category.id }}" {% if offer.category.id == category.id %}selected{% endif %}>
                    {{ category.name }}
                </option>
            {% endfor %}
        </select>
        
        {% if error.category %}
            <span class="text-danger">{{error.category}}</span>
        {% endif %}
            
    </div>
    <div class="mb-3">
        <label>Discount %</label>
        <input type="number" name="discount" class="form-control" value="{{ offer.discount_percent }}" required>
        {% if error.discount %}
            <span class="text-danger">{{error.discount}}</span>
        {% endif %}
    </div>
    <div class="mb-3">
        <label>Start Date</label>
        <input type="date" name="start_date" class="form-control" value="{{ offer.start_date|date:'Y-m-d' }}" min="{{today}}" required>
        {% if error.start_date %}
            <span class="text-danger">{{error.start_date}}</span>
        {% endif %}
    </div>
    <div class="mb-3">
        <label>End Date</label>
        <input type="date" name="end_date" class="form-control" value="{{ offer.end_date|date:'Y-m-d' }}" min="{{today}}" required>
        {% if error.end_date %}
            <span class="text-danger">{{error.end_date}}</span>
        {% endif %}
    </div>
    <div class="form-check">
        <input type="checkbox" name="active" class="form-check-input" {% if offer.active %}checked{% endif %}>
        <label class="form-check-label">Active</label>
    </div>
    <button type="submit" class="btn btn-primary mt-2">Update</button>
</form>
{% endblock %}
    