{% extends "custom_admin/base.html" %}
{% block title %}Admin Transaction Detail{% endblock title %}

{% block content %}
<div class="max-w-3xl mx-auto my-10 p-8 bg-white rounded-xl shadow-lg border border-gray-200">
    <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b-4 border-blue-600 pb-2">Transaction Details</h2>

    <div class="space-y-4">
        <p class="flex">
            <span class="w-40 font-semibold text-gray-700">Transaction ID:</span>
            <span class="text-gray-900 break-words">{{ transaction.transaction_id }}</span>
        </p>

        <p class="flex">
            <span class="w-40 font-semibold text-gray-700">User:</span>
            <span class="text-gray-900 break-words">{{ transaction.user.email }}</span>
        </p>

        <p class="flex">
            <span class="w-40 font-semibold text-gray-700">Type:</span>
            <span class="text-gray-900">{{ transaction.get_transaction_type_display }}</span>
        </p>

        <p class="flex items-center">
            <span class="w-40 font-semibold text-gray-700">Payment Status:</span>
            {% if transaction.payment_status == 'Credit' %}
                <span class="px-3 py-1 text-white bg-green-600 rounded-full font-semibold">{{ transaction.payment_status }}</span>
            {% elif transaction.payment_status == 'Debit' %}
                <span class="px-3 py-1 text-white bg-red-600 rounded-full font-semibold">{{ transaction.payment_status }}</span>
            {% else %}
                <span class="px-3 py-1 text-white bg-gray-500 rounded-full font-semibold">{{ transaction.payment_status }}</span>
            {% endif %}
        </p>

        <p class="flex items-center">
            <span class="w-40 font-semibold text-gray-700">Amount:</span>
            {% if transaction.payment_status == 'Credit' %}
                <span class="text-green-600 font-bold">+₹{{ transaction.amount }}</span>
            {% elif transaction.payment_status == 'Debit' %}
                <span class="text-red-600 font-bold">-₹{{ transaction.amount }}</span>
            {% else %}
                <span class="text-gray-600 font-bold">₹{{ transaction.amount }}</span>
            {% endif %}
        </p>

        <p class="flex">
            <span class="w-40 font-semibold text-gray-700">Description:</span>
            <span class="text-gray-900 break-words">{{ transaction.description|linebreaksbr }}</span>
        </p>

        <p class="flex">
            <span class="w-40 font-semibold text-gray-700">Order:</span>
            <span class="text-blue-600 font-semibold">
                {% if transaction.order %}
                    <a href="{% url 'admin_order_detail' transaction.order.order_id %}">#{{ transaction.order.order_code }}</a>
                {% else %}
                    No order linked
                {% endif %}
            </span>
        </p>

        <p class="flex">
            <span class="w-40 font-semibold text-gray-700">Timestamp:</span>
            <span class="text-gray-900">{{ transaction.timestamp }}</span>
        </p>
    </div>
</div>
{% endblock content %}
